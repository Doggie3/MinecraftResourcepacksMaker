<Window x:Class="MinecraftResourcepacksMaker.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MinecraftResourcepacksMaker"
        mc:Ignorable="d"
        Title="材质包制作工具" Width="1280" Height="720">

    <Grid>

        <StatusBar x:Name="stateBar" Height="30" VerticalAlignment="Bottom">
            <StatusBarItem>
                <TextBlock x:Name="projectName" TextWrapping="Wrap" Text="空项目" Height="15" HorizontalAlignment="Left"/>
            </StatusBarItem>
            <Separator Grid.Column="1" ></Separator>
            <StatusBarItem>
                <TextBlock x:Name="SelectedItemPathShower" TextWrapping="Wrap" Text="未选择" Height="15" HorizontalAlignment="Left"/>
            </StatusBarItem>
            <StatusBarItem HorizontalAlignment="Right">
                <ProgressBar x:Name="progressBar" Height="10" Width="100"/>
            </StatusBarItem>
        </StatusBar>
        <ToolBarPanel Height="26" VerticalAlignment="Top" Grid.ColumnSpan="3">
            <ToolBar Height="26">
                <Button x:Name="newProject" Content="New" Click="newProject_Click" ToolTip="新建材质包" />
                <Button x:Name="openProject" Content="Open" IsEnabled="True" Click="openProject_Click" ToolTip="通过选择pack.mcmeta打开材质包"/>
                <Separator/>
                <Button x:Name="export" Content="Export" IsEnabled="False" Click="Export_Click"/>
                <Button x:Name="editMcmeta" Content="Edit Pack Info" IsEnabled="False" Click="editMcmeta_Click"/>
                <Separator/>
                <Button x:Name="About" Content="About" Click="About_Click"/>
            </ToolBar>
        </ToolBarPanel>
        <Grid Margin="0,31,0,35">
            <Grid.RowDefinitions>
                <RowDefinition Height="113*"/>
                <RowDefinition Height="100*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="480*"/>
                <ColumnDefinition Width="400*"/>
                <ColumnDefinition Width="400*"/>
            </Grid.ColumnDefinitions>
            <TabControl Grid.Column="2" Margin="10,10,10,10" Grid.RowSpan="2">
                <TabItem Header="方块贴图">
                    <Grid Background="#FFE5E5E5">
                        <ListView x:Name="blockTextureSelector" Margin="10,10,10,10">
                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <Grid Margin="5">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <!-- 列表项中的按钮 -->
                                        <Button 
                                            Content="+" 
                                            Width="25" Height="25"
                                            Command="{Binding ButtonClickCommand}"
                                            CommandParameter="{Binding DisplayText}"
                                            Margin="5"/>

                                        <!-- 显示文本的控件 -->
                                        <TextBlock Text="{Binding DisplayText}" 
                                           VerticalAlignment="Center" 
                                           FontSize="14" 
                                           Margin="5" Grid.Column="1"/>
                                    </Grid>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                    </Grid>
                </TabItem>
                <TabItem Header="实体贴图">
                    <Grid Background="#FFE5E5E5">
                        <ListView x:Name="entityTextureSelector" Margin="10,10,10,10" Width="340">
                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <Grid Margin="5">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <!-- 列表项中的按钮 -->
                                        <Button 
                                            Content="+" 
                                            Width="25" Height="25"
                                            Command="{Binding ButtonClickCommand}"
                                            CommandParameter="{Binding RawPath}"
                                            Margin="5"/>
                                        <!-- 显示文本的控件 -->
                                        <TextBlock Text="{Binding DisplayText}" 
                                           VerticalAlignment="Center" 
                                           FontSize="14" 
                                           Margin="5" Grid.Column="1"/>
                                    </Grid>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                    </Grid>
                </TabItem>
            </TabControl>
            <TabControl Grid.Column="1" Margin="10,10,10,10" Grid.RowSpan="2">
                <TabItem Header="方块贴图">
                    <Grid Background="#FFE5E5E5">
                        <ListView x:Name="blockTextureSelection" Margin="10,10,10,10" SelectionChanged="BlockSelected" MouseDown="BlockSelected">
                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <Grid Margin="5">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <!-- 显示文本的控件 -->
                                        <TextBlock Text="{Binding DisplayText}" 
                                            VerticalAlignment="Center" 
                                            FontSize="14" 
                                            Margin="5" Grid.Column="1"/>
                                    </Grid>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                    </Grid>
                </TabItem>
                <TabItem Header="实体贴图">
                    <Grid Background="#FFE5E5E5">
                        <ListView x:Name="entityTextureSelection" Margin="10,10,10,10" Width="340" SelectionChanged="EntitySelected" MouseDown="EntitySelected">
                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <Grid Margin="5">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <!-- 显示文本的控件 -->
                                        <TextBlock Text="{Binding DisplayText}" 
                                            VerticalAlignment="Center" 
                                            FontSize="14" 
                                            Margin="5" Grid.Column="1"/>
                                    </Grid>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                    </Grid>
                </TabItem>
            </TabControl>
            <Button Content="编辑" HorizontalAlignment="Left" Margin="30,77,0,0" VerticalAlignment="Top" Width="80" Height="30" Click="EditSelected" ToolTip="使用MsPaint编辑该材质"/>
            <Button Content="重置" HorizontalAlignment="Left" Height="30" Margin="115,77,0,0" VerticalAlignment="Top" Width="80" Click="ResetSelected" ToolTip="将材质重置为原版状态"/>
            <Button Content="删除" HorizontalAlignment="Center" Height="30" Margin="0,77,0,0" VerticalAlignment="Top" Width="80" Click="DeleteSelected" ToolTip="删除材质文件"/>
            <Image x:Name="preView" Margin="30,30,30,12" Grid.Row="1"/>
            <Label Content="操作" HorizontalAlignment="Left" Margin="30,32,0,0" VerticalAlignment="Top"/>
            <Label Content="缩放" HorizontalAlignment="Left" Margin="30,112,0,0" VerticalAlignment="Top"/>
            <Button x:Name="textureUpScale" Content="+" HorizontalAlignment="Left" Margin="30,142,0,0" VerticalAlignment="Top" Height="30" Width="30" FontSize="14" FontWeight="Bold" Click="TextureUpScale"/>
            <Button x:Name="textureDownScale" Content="-" HorizontalAlignment="Left" Margin="200,142,0,0" VerticalAlignment="Top" Height="30" Width="30" FontSize="14" FontWeight="Bold" Click="TextureDownScale"/>
            <TextBox x:Name="scaleShower" HorizontalAlignment="Left" Margin="65,148,0,0" TextWrapping="Wrap" Text="0*0" VerticalAlignment="Top" Width="130" TextAlignment="Center" IsEnabled="False"/>

        </Grid>


    </Grid>

</Window>
